#Set source files 
set( srcs 
		  "matrixssl_ltk/opensslSocket.c"
		  "matrixssl_ltk/opensslApi.c"
		  "matrixssl_ltk/mtxssl_if.c"
		  "matrixssl_ltk/Matrix_OS.cpp"
		  
		  "matrixssl/matrixsslKeys.c"
		  "matrixssl/matrixsslApi.c"
		  "matrixssl/matrixssl.c"
		  "matrixssl/matrixsslInitVer.c"
		  "matrixssl/prf.c"
		  "matrixssl/tls.c"
		  "matrixssl/tlsDefaults.c"
		  "matrixssl/tlsSelectKeys.c"
		  "matrixssl/tlsSigVer.c"
		  "matrixssl/tlsTrace.c"
		  "matrixssl/sslEncode.c"
		  "matrixssl/sslDecode.c"
		  "matrixssl/hsNegotiateVersion.c"
		  "matrixssl/hsHash.c"
		  "matrixssl/hsDecode.c"
		  "matrixssl/extDecode.c"
		  "matrixssl/dtls.c"
		  "matrixssl/cipherSuite.c"

		  "core/src/bmp.c"
		  "core/src/cl_basic.c"
		  "core/src/corelib_date.c"
		  "core/src/corelib_list.c"
		  "core/src/corelib_main.c"
		  "core/src/corelib_strings.c"
		  "core/src/corelib_trace.c"
		  "core/src/psbuf.c"
		  "core/src/psmalloc.c"
		  "core/src/psmalloc_ext.c"
		  "core/src/memset_s.c"
		  "core/osdep/src/cl_memset.c"
		  "crypto/common/alg_info.c"
		  "crypto/common/digest_info.c"	
		  "crypto/keyformat/asn1.c"
		  "crypto/keyformat/asn1enc.c"
		  "crypto/keyformat/base64.c"
		  "crypto/keyformat/pem_decode_mem.c"
		  "crypto/keyformat/pkcs.c"
		  "crypto/keyformat/x509.c"
		  "crypto/keyformat/x509enc.c"
		  "crypto/keyformat/x509req.c"
		  "crypto/layer/matrix.c"
		  "crypto/pubkey/dh.c"
		  "crypto/pubkey/dh_export.c"
		  "crypto/pubkey/dh_gen_key.c"
		  "crypto/pubkey/dh_gen_secret.c"
		  "crypto/pubkey/dh_import.c"
		  "crypto/pubkey/dh_import_priv.c"
		  "crypto/pubkey/dh_params.c"
		  "crypto/pubkey/ecc.c"
		  "crypto/pubkey/ecc_curve.c"
		  "crypto/pubkey/ecc_curve_config.c"
		  "crypto/pubkey/ecc_curve_data.c"
		  "crypto/pubkey/ecc_export.c"
		  "crypto/pubkey/ecc_gen_shared.c"
		  "crypto/pubkey/ecc_import.c"
		  "crypto/pubkey/ecc_keygen.c"
		  "crypto/pubkey/ecc_math.c"
		  "crypto/pubkey/ecc_parse_mem.c"
		  "crypto/pubkey/ecc_priv.c"
		  "crypto/pubkey/ecc_priv_el_gamal.c"
		  "crypto/pubkey/ecc_pub.c"
		  "crypto/pubkey/ecc_write_mem.c"
		  "crypto/pubkey/pubkey.c"
		  "crypto/pubkey/pubkey_parse_mem.c"
		  "crypto/pubkey/pubkey_sign.c"
		  "crypto/pubkey/pubkey_verify.c"
		  "crypto/pubkey/rsa.c"
		  "crypto/pubkey/rsa_keygen.c"
		  "crypto/pubkey/rsa_parse_mem.c"
		  "crypto/pubkey/rsa_priv.c"
		  "crypto/pubkey/rsa_pub.c"
		  "crypto/pubkey/rsa_write_mem.c"
		  "crypto/digest/hmac.c"
		  "crypto/digest/md5.c"
		  "crypto/digest/md5sha1.c"
		  "crypto/digest/sha1.c"
		  "crypto/digest/sha256.c"
		  "crypto/prng/prng.c"
		  "crypto/math/pstm.c"
		  "crypto/math/pstm_montgomery_reduce.c"
		  "crypto/math/pstm_mul_comba.c"
		  "crypto/math/pstm_sqr_comba.c"
		  "crypto/math/pstmnt.c"
		  "crypto/symmetric/aes.c"
		  "crypto/symmetric/aesCBC.c"
		  "crypto/symmetric/aesGCM.c"
		  
		  "../../Ethernet/Web/TLS_Ram.cpp"
		  "../../uC/ESP32D0WD/uC_Rand_Num.cpp"
		  
	)
   
#Set include directories
set (include_dirs 
				  "."
				  "matrixssl"
				  "matrixssl_ltk"
				  "core"
				  "core/config"
				  "core/include"
				  "core/osdep/include"
				  "crypto"
				  "apps/ssl"
				  "../../BF"
				  "../../BF/DCI"
				  "../../DebugManager"
				  "../../Ethernet"
				  "../../Ethernet/Web"
				  "../../Lib"
				  "../../uC/ESP32D0WD"
				  "../../OS_FreeRTOS"
				  "../../../../Code"
				  "../../../../Code/BFData"
				  "../../../../Code/Config"
				  "../../../../esp32_common/esp-idf/components/esp_netif/include"
				  "../../../../esp32_common/esp-idf/components/esp_common/include"
				  "../../../../esp32_common/esp-idf/components/lwip/lwip/src/include"
				  "../../../../esp32_common/esp-idf/components/lwip/lwip/src/include/lwip"
				  "../../../../esp32_common/esp-idf/components/lwip/lwip/src/include/compat/posix"
				  "../../../../esp32_common/esp-idf/components/freertos/include/freertos"
				  "../../../../esp32_common/esp-idf/components/tcpip_adapter/include"
				  "../../../../esp32_common/esp-idf/components/bootloader_support/include"
    )
    
#Register source files and include directories
idf_component_register( SRCS "${srcs}"
                	    INCLUDE_DIRS "${include_dirs}"
					  )
#Supressing Third party library - Crypto MAtrixSSL warnings as we are not going to fix them 
set_target_properties(${COMPONENT_LIB} PROPERTIES COMPILE_FLAGS "-Wno-stringop-truncation -Wno-stringop-overflow -Wno-format-truncation -Wno-format-overflow -Wno-maybe-uninitialized -Wno-unused-function -Wno-unused-variable -Wno-unused-but-set-variable -Wno-implicit-fallthrough -Wno-incompatible-pointer-types" )
